# CampaignBay Plugin - WordPress Hooks Reference

## ACTIONS (add_action)

### WordPress Core Actions
- `init` - Used in:
  - app/Core/Plugin.php (line 93) - Load plugin textdomain
  - app/Data/PostTypes.php (line 77) - Register post type
  - app/Data/PostTypes.php (line 78) - Register post statuses
  - app/Core/Scheduler.php (line 98) - Run scheduled campaigns cron

- `admin_init` - Used in:
  - app/Api/LogsController.php (line 47) - Run log cleanup check
  - app/Admin/Admin.php (line 202) - Register settings

- `admin_menu` - Used in:
  - app/Admin/Admin.php (line 196) - Add admin menu

- `admin_enqueue_scripts` - Used in:
  - app/Admin/Admin.php (line 198) - Enqueue admin resources

- `rest_api_init` - Used in:
  - app/Api/ApiController.php (line 92) - Register API routes
  - app/Api/CampaignsController.php (line 72) - Register campaigns routes
  - app/Api/DashboardController.php (line 38) - Register dashboard routes
  - app/Api/LogsController.php (line 45) - Register logs routes
  - app/Api/SettingsController.php (line 61) - Register settings routes
  - app/Admin/Admin.php (line 201) - Register admin settings

### WooCommerce Actions
- `woocommerce_order_status_changed` - Used in:
  - app/Engine/OrderManager.php (line 43) - Handle order status change

- `woocommerce_single_product_summary` - Used in:
  - app/Engine/PricingEngine.php (line 114) - Display product summary

- `woocommerce_before_calculate_totals` - Used in:
  - app/Engine/PricingEngine.php (line 126) - Apply discounts and prepare notices

- `woocommerce_after_calculate_totals` - Used in:
  - app/Engine/PricingEngine.php (line 128) - Cart after calculate totals

- `woocommerce_checkout_create_order` - Used in:
  - app/Engine/PricingEngine.php (line 148) - Save discount breakdown to order meta

- `woocommerce_store_api_checkout_update_order_meta` - Used in:
  - app/Engine/PricingEngine.php (line 149) - Save discount breakdown to order meta

- `woocommerce_coupon_is_valid_for_product` - Used in:
  - app/Engine/PricingEngine.php (line 153) - Prevent coupon stacking to product

### WordPress Plugin Actions
- `plugin_action_links_{plugin_basename}` - Used in:
  - app/Admin/Admin.php (line 204) - Add plugin action links

- `plugin_row_meta` - Used in:
  - app/Admin/Admin.php (line 205) - Add plugin row meta

### Custom Actions
- `campaignbay_campaign_save` - Used in:
  - app/Core/Scheduler.php (line 87) - Handle campaign save
  - app/Engine/Campaign.php (line 395) - Fired after campaign creation
  - app/Engine/Campaign.php (line 442) - Fired after campaign update

- `campaignbay_campaign_delete` - Used in:
  - app/Core/Scheduler.php (line 94) - Clear campaign schedules on delete
  - app/Engine/Campaign.php (line 471) - Fired after campaign deletion

- `campaignbay_create_order` - Used in:
  - app/Engine/OrderManager.php (line 73) - Fired when order is created

- `campaignbay_activate_campaign_event` - Used in:
  - app/Core/Scheduler.php (line 90) - Run campaign activation

- `campaignbay_deactivate_campaign_event` - Used in:
  - app/Core/Scheduler.php (line 91) - Run campaign deactivation

### Post Type Actions
- `save_post_campaignbay_campaign` - Used in:
  - app/Engine/CampaignManager.php (line 98) - Clear cache

- `delete_post` - Used in:
  - app/Engine/CampaignManager.php (line 99) - Clear cache

## FILTERS (add_filter)

### WordPress Core Filters
- `admin_body_class` - Used in:
  - app/Admin/Admin.php (line 197) - Add has sticky header class

- `display_post_states` - Used in:
  - app/Data/PostTypes.php (line 83) - Add display post states

### WooCommerce Filters
- `woocommerce_get_price_html` - Used in:
  - app/Engine/PricingEngine.php (line 116) - Display discounted price HTML

- `woocommerce_variable_price_html` - Used in:
  - app/Engine/PricingEngine.php (line 118) - Display variable price HTML

- `woocommerce_variation_prices` - Used in:
  - app/Engine/PricingEngine.php (line 120) - Filter variation prices

- `woocommerce_product_is_on_sale` - Used in:
  - app/Engine/PricingEngine.php (line 123) - Filter is product on sale

- `woocommerce_after_cart_item_name` - Used in:
  - app/Engine/PricingEngine.php (line 134) - Display inline cart notice

- `woocommerce_cart_item_price` - Used in:
  - app/Engine/PricingEngine.php (line 138) - Display cart item price

- `woocommerce_cart_item_subtotal` - Used in:
  - app/Engine/PricingEngine.php (line 139) - Display cart item subtotal

- `woocommerce_variation_prices_price` - Used in:
  - app/Engine/PricingEngine.php (line 143) - Filter variation prices price

- `woocommerce_variation_prices_regular_price` - Used in:
  - app/Engine/PricingEngine.php (line 144) - Filter variation prices regular price

- `woocommerce_variation_prices_sale_price` - Used in:
  - app/Engine/PricingEngine.php (line 145) - Filter variation prices sale price

### Custom Filters
- `campaignbay_default_options` - Used in:
  - app/functions.php (line 87) - Filter default options

- `campaignbay_changelog_file` - Used in:
  - app/functions.php (line 184) - Filter changelog file path

- `campaignbay_white_label_plugin_name` - Used in:
  - app/functions.php (line 223) - Filter white label plugin name

- `campaignbay_white_label` - Used in:
  - app/functions.php (line 228) - Filter white label options

- `campaignbay_admin_localize` - Used in:
  - app/Admin/Admin.php (line 207) - Filter admin localization data

- `campaignbay_options_properties` - Used in:
  - app/Admin/Admin.php (line 274) - Filter options properties

- `campaignbay_log_retention_days` - Used in:
  - app/Api/LogsController.php (line 94) - Filter log retention days

- `rest_campaignbay_api_settings_item_schema` - Used in:
  - app/Api/SettingsController.php (line 206) - Filter REST API settings schema

## CUSTOM HOOKS DEFINED

### Action Hooks
- `campaignbay_campaign_save` - Fired when campaigns are saved/updated
- `campaignbay_campaign_delete` - Fired when campaigns are deleted
- `campaignbay_create_order` - Fired when orders are created
- `campaignbay_activate_campaign_event` - Fired when campaigns are activated
- `campaignbay_deactivate_campaign_event` - Fired when campaigns are deactivated

### Filter Hooks
- `campaignbay_default_options` - Filter default plugin options
- `campaignbay_changelog_file` - Filter changelog file path
- `campaignbay_white_label_plugin_name` - Filter white label plugin name
- `campaignbay_white_label` - Filter white label options
- `campaignbay_admin_localize` - Filter admin localization data
- `campaignbay_options_properties` - Filter options properties
- `campaignbay_log_retention_days` - Filter log retention days
- `rest_campaignbay_api_settings_item_schema` - Filter REST API settings schema

## PLUGIN ACTIVATION/DEACTIVATION HOOKS

### Main Plugin File
- `register_activation_hook` - Used in:
  - campaignbay.php (line 53) - Register activation hook

- `register_deactivation_hook` - Used in:
  - campaignbay.php (line 54) - Register deactivation hook

## NOTES

- The plugin uses a custom Loader class to manage all hooks centrally
- Most hooks are registered through the Loader class in the Plugin.php file
- Custom hooks follow the naming convention: `campaignbay_{hook_name}`
- WooCommerce hooks are used extensively for pricing and cart functionality
- The plugin implements proper hook priorities and argument counts
- Custom action hooks are fired using `do_action()` in appropriate places
- Custom filter hooks are applied using `apply_filters()` with default values
